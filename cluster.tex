\documentclass{anstrans}

%%%% packages and definitions (optional)
\usepackage{graphicx} % allows inclusion of graphics
\usepackage{booktabs} % nice rules (thick lines) for tables
\usepackage{microtype} % improves typography for PDF

% Para português
\usepackage[utf8]{inputenc}     % Codificacao do documento (conversão automática dos acentos)

\newcommand{\SN}{S$_N$}
\renewcommand{\vec}[1]{\bm{#1}} % vector is bold italic
\newcommand{\vd}{\bm{\cdot}} % slightly bold vector dot
\newcommand{\grad}{\vec{\nabla}} % gradient
\newcommand{\ud}{\mathop{}\!\mathrm{d}} % upright derivative symbol


%%%% changes from the original 'anstrans' class
\usepackage{fancyhdr} % allows headers and footers

\renewcommand\headrule{} % remove underline in the header
\setcounter{secnumdepth}{1}
\renewcommand{\thesection}{\Roman{section}.}
\renewcommand{\thesubsection}{\arabic{subsection}.}
\renewcommand{\thesubsubsection}{\Alph{subsubsection}.}
\makeatletter
\renewcommand*{\@seccntformat}[1]{\csname the#1\endcsname\hspace{1mm}}
\makeatother


%%%% Header
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\fontsize{9}{9} \itshape
  INAC 2017 - International Nuclear Atlantic Conference, Belo Horizonte, Brazil,\\
  October 22-27, 2017
}


%%%% Maketitle
\title{Professional cluster management by a small scientific team: challenges, solutions
and perpectives}
%\author{Vitor V. Araújo Silva,$^{*}$ and André A. Campagnole dos Santos and Renan O. da Cunha}
\author{Vitor V. Araújo Silva and André A. Campagnole dos Santos and Renan O. da Cunha}

\institute{
  %$^{*}$Centro de Desenvolvimento da Tecnologia Nuclear - CDTN
  Centro de Desenvolvimento da Tecnologia Nuclear - CDTN
}

\email{\{vitors, aacs, roc\}@cdtn.br}

% Optional disclaimer: remove this command to hide
\disclaimer{Notice: this manuscript is a work of fiction. Any resemblance to
actual articles, living or dead, is purely coincidental.}


%%%% Abstract
\begin{document}
\vspace*{-42pt}
\begin{strip}
\centering{\parbox{153mm}{{\bf Abstract} \itshape - 
\input{abstract.tex}
}\par}
\vspace*{14pt}
\end{strip}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}

Nowdays computers are indispensable tools for scientists of any field.
Some areas of research heavily rely on computational power in order to solve
complex problems by use of demanding algorithms, methods and heuristics.
Current methods used for nuclear reactor calculations, both thermal-hydraulics
and neutronics can be more accurate or even only applicable by using
many cores or computers alltogheter.

A cluster is a...

\subsection{Context}
(Qual será o uso do cluster? Por quem? Quais os perfis dos usuários e de possíveis usuários?
Qual o impacto desse cluster para o CDTN? Em que isso pode nos fortalecer em Computação Científica?)
Um bom artigo num nível acima do nosso \textit{cluster} fala sobre os novos desafios de \textit{hexascale computing}
é o de Dongarra \cite{Dongarra2017}.

Teste de todas as citações disponíveis no bibtex: Wu\cite{Wu2016}, Nagaya\cite{Nagaya2015}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Objective}

The objective of this paper is to present the challenges, problems and solutions proposed
to setup a professional computational
cluster to carry heavy numerical calculations in a context of a small research team.

(Apresentar as decisões técnicas envolvidas na instalação de um cluster
profissional por pesquisadores/técnicos.)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Methodology}

  A figura~\ref{fig:esquema-cluster} apresenta o sistema de forma simplificada.
  
\begin{itemize}

\item (Indentificação do sistema $\rightarrow$ Características: memória, CPUs, GPUs (Graphics Processing Units), cores, rede, topologia, sistema de arquivos, inserção na rede institucional)

\item (Possíveis soluções/soluções encontradas em relação a cada característica apresentada. Por exemplo: Lustre \cite{Lustre} ou Gluster\cite{Gluster} para o sistema de arquivos?)

\item (Para cada solução escolhida: Por quê?)
  
\end{itemize}

The system is formed by a set of eight identical blade servers each with 20 cores and equiped with
NVIDIA GPU's M4000 CUDA\cite{CUDA} capable. The GPU's on servers, despite capable of visualization,
are expected to be used as secondary calculation units. Also part of the sistem, the master server is aimed to calculations
visualiation and simulations manager. The master computer has
four network devices and a NVIDIA GPU M2000 aimed to visualization and graphics display.

The original OS sold with the cluster is an OEM (Original Equipament Manufacturer) Windows 7 \cite{windows7}. This
OS is not supported by the whole set of software expected to be used by the research group users. The chosen
system to replace the original Windows 7 is CentOS \cite{centos}, which offers a plataform to natively run all
software needed by the users. However, there are more than one way of setup a cluster system with respect
to filesystem, software execution and user access.

The next paragraphs, describe different option of setup for a Linux cluster with respect to software execution.

\begin{itemize}
\item Direct OS installation
\item Use of dockers
\item SO virtualization
\end{itemize}

\subsection{Making use of graphics processors}

The system under consideration has powerful GPU cards installed in machines
which have no output display. The use of GPU's to perform tasks other than graphics processing
is nowdays widespread in many fields of research \cite{UsoDeGpus}. Modern software is written with
the objective of taking advantage of this ``extra'' processing capabilities and studies of software
engineering on parallelization of sequential algorithms to be applied in GPU's are a significant
nowdays.

In order to make the use of GPU's for general processing less dificult, libraries, compilers and
frameworks were developed. At the beggining these tools were developed and deployed by graphics cards
manufacturers. The pionner in offering both GPU's cards capable of general use is NVIDIA, which,
without surprise, is also pionner in making a available a full framework for its GPU programming.
This tool is called CUDA (Compute Unified Device Architecture) and is a parallel computing platform
and application programming interface (API) model.

However, with the increase of the use the cards, developers start to demand some
standardization ir order to be able experiment new algorithms in different cards. Today, the
reference framework for development for heterogeneus platforms is \textit{OpenCL} \cite{OpenCL}.

--- Como funciona o OpenCL

The idea for the cluster system, is to provide both CUDA libraries for
software developed for NVIDIA graphic cards and also OpenCL libraries to
be used by software written to make use of the programming genericity
provided by OpenCL. As the time of writing, the libraries were installed
in only one node of the cluster and tests are being envisaged to check
compatibility of both framewoks.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Results and Analysis}

\begin{itemize}

\item (Situação atual do sistema - no momento de finalizer o paper)
\item (Dificuldades identificadas: Resolvidas (como) e Pendentes.
  
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Subsection Goes Here}
The user must manually capitalize initial letters of a subsection heading.

Figure~\ref{fig:esquema-cluster}
Note how Fig.~\ref{fig:esquema-cluster} uses dashed lines \verb|--| for the exact
solution, solid lines \verb|-| for the new method's solutions, and dotted lines
\verb|:| for existing inaccurate methods.
\begin{figure}[ht] % replace 't' with 'b' to force it to be on the bottom
  \centering
  \includegraphics[scale=0.15]{images/esquema_cluster_edited_bw.png}
  \caption{Captions are flush with the left.}
  \label{fig:esquema-cluster}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% \begin{table*}[htb]
%%   \centering
%% \begin{tabular}{llllllllll}\toprule
%%       & $\phi_T(0)$      & $\phi_T(10)$      & $\phi_T(20)$      &
%%       $\phi_D(0)$      & $\phi_D(10)$      & $\phi_D(20)$      & $\rho$      &
%%       $\varepsilon$      & $N_\text{it}$
%% \\ \midrule
%% $c=0.999$  & 0.9038 & 20.63 & 31.24 & 0.9087 & 20.63 & 31.23 & 0.2192 & $10^{-7}$ & 15
%% \\
%% $c=0.990$  & 0.3675 & 13.04 & 24.7 & 0.3696 & 13.04 & 24.69 & 0.2184 & $10^{-7}$ & 15
%% \\
%% $c=0.900$  & 0.009909 & 4.776 & 17.64 & 0.009984 & 4.786 & 17.63 & 0.2118 & $10^{-7}$ & 14
%% \\
%% $c=0.500$  & $6.069\times 10^{-5}$ & 2.212 & 15.53 & 6.213$\times 10^{-5}$ & 2.239 & 15.53 & 0.2068 & $10^{-7}$ & 13
%% \\
%% \bottomrule
%% \end{tabular}
%%   \caption{This is an example of a really wide table which might not normally
%%   fit in the document.}
%%   \label{tab:widetable}
%% \end{table*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Notice how the table reference uses a Roman numeral
%% for its numbering scheme, whereas the figure reference uses an Arabic numeral.
%% For one-column tables, use the \verb|table| environment; two-column tables use
%% \verb|table*|. The same applies to figures.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Another Subsection}

\subsubsection{Third-level Heading}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Conclusions}

(O que está bom, o que está ruim na atual instalação)
(Trabalhos futuros: pra onde ir (operação), possíveis mudanças)

Uma citação \cite{Henderson17}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\appendix
\section{Appendix}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Acknowledgments}
The authors would like to thank FUJB for financing the cluster acquisition
as part of the project XXXXX.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\bibliographystyle{ans} % Don't forget to run BibTeX !
\bibliography{bibli}

\end{document}
